apiVersion: v1
kind: Secret
metadata:
  name: minio-cert
data:
  private.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRZ0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1N3d2dna29BZ0VBQW9JQ0FRQ2RUSkFjazV6OTZadDcKbEFmb2FramdBU1lvTktrSlRwSm1SVEFCUDkwWHdMOE1GMmt1MHRkVXZXV0xyMlpiKzhBZVB4YjNrS1l6dS9BNQozUDlENVdxNjhubmVwOHJUMUMzTXlObzNrVVQzbXFJdTVpSGl3NTRVUmpUTjFRNjltQTBVZ084OGlMOElmdFFUCndidk92UHY2dlFsMlNlK1k0R2hiMzVGN0kvOGZaYkI5cDRINUk0THRQTXlkblM4K1dPeWZRdHJDVXIxcVhLakIKOHE2SXZLTjRrUUhLZyswems0d1lHN3g0S2wyV2dXd2d3dDRiTjRvUU5XMlhmY3NNZzBqZ0hNUGJLY3hxQWtHZApsbEE2QUJFTmp1SW9qc2hubkhhYy81MWFENzlnN1BFVkdnWnRtaUorZjBXSllHbFZvOVFuTXUyVHptVmtuU0IrCi8remlJbmRwdDFiYUhIQWhmaXhmWHJtRFpvSVlWbVlRVG1uaDB0a05SZVF2MGNJWVU4YjVjWWYzUWJVK0Z3aHoKN0Q0OVlRNjhoelFSU3FMTk1DdWhpa3I5WXdVMWoyQ1VJaVcrdVgzUFRxRTVlenBnYTk1YUVLdVlud0dKdHp1UgpKUk4yR0tKRStlSVFWY1l0c1hhNmNHQTlmZ0s1WElodldYM1ZLVkZETTZLRVRMRjIvT0FTMDlDSXBDQ3Q5QXcvCkpZbGptSzZ4bXR4YU1yeGdKNHZldWJseC90Q2dnMDhuUjJTNkZhZjlPOHl3bTdSOWk4ZGNjL29GcjRFclpJQUQKU3FwTXJPMmh5V0J2d1dRakhqeDVsY3UxR09oM3RWRCtnb05NNjczMDU5WThwWVF3VThJd296aE5VUUxPQTlwcApDNmZhdm9QL2ZWQlVwUUQxeW13ekxFSUJDUkoxZHdJREFRQUJBb0lDQUVBMmJKQVYzRjAwKzZGZmhUam1CbmpYClR6M1RmWHZNcE92MTY0cGZDVUQwa0tqOWQ1VkRRZDhZYi9jdGM2SXlLN1BOT25GMmpicUp5cCs4YlVKSXlhQ20KY29Tbng1OWd1dytob0o5VmdLdDVaeUt4Rkgwdk1QMkN5WFNMT0xqQjlQajlSMnhWUUhMVjMzcHZPRjFGZmJIVwpjS0htdmRZUktkanpjNzZxcTYra0FmL1JuVGZZdk01ZTV3S2lrNUltbC9YTncyTFhodlovKys0c3hQNFJ6OFBjCm9qZ0xVZzRmZWUydmlPa2ZGbFJsNGYrZnZTNnNKZ0xHNU1XV2R3alZJUzlIM3RZOWduSjJHRllkOGdNeldzTEgKcE9BOHBXZlNrZ00yUUFSdmNFYy9nbzBFTWtLVXpPY0p5cGV4a1Y2Q0FnMjhkd3JERTFZVzVKaWpuZzZVVmwxZwpJemhwR1Q2dVR4UzQyTjFXRW9xazFyS1k0amNNVENTTmgvZ0hkZmltZFZTOXJ1RjdJRlkrMGkybHFQd0xrNjlOClBZNE1CaWE0b0VvdUREMUxObXArTWI0R0k3dlVadzlQK0hYSFBiS2RyM2xzOVh5Y28wOURHOFdQT0NqV2dqVU0KL0E2azBPUk4zYmdYT0t4M1pwSm5nckhRWnJjUTZ4dFFlWWRZb2lwUE5PNmhGWHZzQkhBdm8ydnYzSXpJWGpnbgpmZFR5SWpiOENPNUUydlJyb0oxU3JKdXYvQ1hsTHZRNGxzU0xXdmVtZUg2aFIrQkZ0SXduK2Y1K2J1aUVvQ2dJCk9FQm0yb29rZGpFNWc0Vml4ODhpbEJmM0ltb1ZKY2JNRmN4M05Ob1NYWHNpQTNqaVFkanpLUHFocExuUkFlMnEKaUw1a1FXdU5ENk9oVG1pUjJaU3BBb0lCQVFEUWVCeit4Tm1IUDQzRG5rVVQzRkxZMHJOek8yNXhqRFZoMXRsawpCblBYUGJ6cHplVVZnc2pGYmlZcEFrUy9CQkJXZjdZcTNnWnJsS0MvOUJqVlNZem5memFZK3FEOHRPOWFjN0NHCk9YTWFPUFFYMWNXWmxkcG9sRDlEWjRlNTlqVGNHV1hWSmFtQUgyOEJxdm41T25jTGFNKytmRWlBaVowUVlIeHoKelgrMTc2QUdJeDhWTjRpT0RFM1RuVnJTL201Mk9aVS9wOEJ2WXB0cWp1Y3pBSk5XaTJVeTgwOUljTEtscnJxeQpTVU9HcXBQd1BWVTEzMDdSMk5odWJXZC9vK3FDVjFWejRzZEhnRVk0cXhSakpCYzZyV3NvZW5rcVlqNDNIQzVGCkp0MXBiaXJuYXAxWlZJSFVzTUZ0SU5UQkFLakpnMXFRaW5QVlFuNTZlOEhGQzhUSkFvSUJBUURCS2NORk9HczUKcDluZWlFMTA0Wms3SXNwcks1NTFlV2duWDV3a292ZmNSdjFNbEthRXNRV1R2UkFaQ0RKeFNvQ3pXV3BzaGZIdwpuSGdBSlZLcTVGOU16QXgzQmYrNU5QeC9WSVFkQUdsanY5MWJ1YXdPUDZlY0lkWnl4cldBSmZXNVFLaDNLdm55Ci8vRHRGejM2UktRNWQrbDhVRStXOU0xWEttVzNUSWptMkwwSjBRU1h0TEZLRk9jSkc2Z3gxeUE3NUp6Mk1GdXAKMCs5RjMyam5DNWdVQS9uWFpUa016OXVkdXFuWDFnUE5zcWk0TUVrRlZGcjJjZXdBMXZISWxYT3BFei9VcTZobwpubGJiZ0RQTGFpd1dBRk54cW5kOHRuWFVTeEpMZVFTck9kb0V0bFhwdG9GME1xTWFBVkJHbDd6ZnZ4ZmJzVnBrCkJDQ09FQ2gxOE1nL0FvSUJBQUdhYXQ2cXRPR05ZNUcxamVKeE4xSGpqTzI5NzBPQVNJalFGaXZtd00xTzlEejQKRUdMeDlvbE9KNHo1TDM0b2tkZVljOVl3anV3VTRJZVpZUGVDOFVwMmQvMEZNR2ZCSEhZZG5hWHFtekFBY0NBZQp6TDQ1b014ZEYzOTFORjRCdnJaU202M2Y5RVcvK0NLVEpnajhvaDI4V0p5bWFBaFZCcGd4cGNOZU9UVTArbzRSCmh4T3FzYW9sL2hNNmlwQkUxS1NrSExtNG1JcEN2OTg1NmgxQ1M5L0dncWk1cGtwd1UyOWl3SnpPWTI2TnNVV1AKc3pBTzM1Uk5qcHlLeXRqNGNiMCszckZkZFJyZnFhcVY1am84OU5ER3RLUkRETnQrbGV2bWs1U0VqLzlYa1l6bQpEUCs2M3FTOEYwQzNsK3RFRGdnK3NsdWFOUG5XNFJJZ0VZVnFhY0VDZ2dFQkFKL2F5L3NSQWN1cEdTaU1iRzE1CjliRjJ6VVY3eDVzNGFmV0xybEN6ZmFRU0s3V2duMTNZa2VEOTZjQ05oQkUxc3VTNTd0VDQxSXhuTVBnTjZ5ZjUKN3RSRFdWMTIzWGFNWHhtUSsvUjBUc042R05xOEFhT1pFa0NuMEMwVVBVaGNJY3E1czdGTEk2YnlJSlJWVTdrMQo3U0tTRmV3SEdwYTI2T2hsOGQrTHV4QXY5ZUdWMU5NbmVrRHdvM0pxTFB0eUtQN241dTNtZnpWQWF4Zk1GNmg5CmM5RzhxSnFVN20ybjV2dlZhcEZ3VDUxL2FSbGsvRWtvMGs1NVlQSWc3OThycjVnUWtoYVNLTURMcU4zbWJ2YTgKV3RlcVZXUVB5dXF1cFR5WEZBRFptZitKMU45cGRoZ0FMWW5ZRGhxTFU3L1grenEvamlNRjF1UkdkaHFiVEtDdQpMMGtDZ2dFQVQxR0FpWnQzWHN5OGFxWm9xY1lCL1I0L1M2YVMzL1psczlGSVFoTko1SVhnWFhLR2FNSThSbFQ3CkM2bmZVeVFYUnZVVFNveHpSelhhNXEvWWxMRS9pZmpaeXcvUFdCMENDQ2xlWGhSaHU1aWJWcXc0ZHdndDZPcnIKdkJrdnEvMStSck5NbVFacFhLMkJrZjBQMFhwd3ZCVVphNlpaL2hjM1BpY091NUNLdURXWGMzZ2hjTmdyeGJBcwo3WldWMEpvUkJYTjJKS3piQk5TYUEyUGNPaFpFQ0Z0c21VeWQxZzhWRnl5U1VPbzFGdU9wNmxGTGttSTEyRUduCkdwcldPdkFKREhwNnNzVEY0Y3ZlVGlSRFFyWkpBaFlXTTlmdmR5TVJZVzlJUUlFVFZ1SzJxZjV0d3Q3RTR2ZlQKdmtTZ29McFNTTWxMT29DeGRyNHIxMUxTU1h1bGpBPT0KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo=
  public.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZGakNDQXY2Z0F3SUJBZ0lVVWtzZEFKU20rYzZCWGtTNU43NDFYZzlvS3g4d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0V6RVJNQThHQTFVRUF3d0lUWGxFWlcxdlEwRXdIaGNOTWpNd09ESTBNVFl4TVRBM1doY05Nek13T0RJeApNVFl4TVRBM1dqQVFNUTR3REFZRFZRUUREQVZ0YVc1cGJ6Q0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQCkFEQ0NBZ29DZ2dJQkFKMU1rQnlUblAzcG0zdVVCK2hxU09BQkppZzBxUWxPa21aRk1BRS8zUmZBdnd3WGFTN1MKMTFTOVpZdXZabHY3d0I0L0Z2ZVFwak83OERuYy8wUGxhcnJ5ZWQ2bnl0UFVMY3pJMmplUlJQZWFvaTdtSWVMRApuaFJHTk0zVkRyMllEUlNBN3p5SXZ3aCsxQlBCdTg2OCsvcTlDWFpKNzVqZ2FGdmZrWHNqL3g5bHNIMm5nZmtqCmd1MDh6SjJkTHo1WTdKOUMyc0pTdldwY3FNSHlyb2k4bzNpUkFjcUQ3VE9UakJnYnZIZ3FYWmFCYkNEQzNoczMKaWhBMWJaZDl5d3lEU09BY3c5c3B6R29DUVoyV1VEb0FFUTJPNGlpT3lHZWNkcHovblZvUHYyRHM4UlVhQm0yYQpJbjUvUllsZ2FWV2oxQ2N5N1pQT1pXU2RJSDcvN09JaWQybTNWdG9jY0NGK0xGOWV1WU5tZ2hoV1poQk9hZUhTCjJRMUY1Qy9Sd2hoVHh2bHhoL2RCdFQ0WENIUHNQajFoRHJ5SE5CRktvczB3SzZHS1N2MWpCVFdQWUpRaUpiNjUKZmM5T29UbDdPbUJyM2xvUXE1aWZBWW0zTzVFbEUzWVlva1Q1NGhCVnhpMnhkcnB3WUQxK0FybGNpRzlaZmRVcApVVU16b29STXNYYjg0QkxUMElpa0lLMzBERDhsaVdPWXJyR2EzRm95dkdBbmk5NjV1WEgrMEtDRFR5ZEhaTG9WCnAvMDd6TENidEgyTHgxeHorZ1d2Z1N0a2dBTktxa3lzN2FISllHL0JaQ01lUEhtVnk3VVk2SGUxVVA2Q2cwenIKdmZUbjFqeWxoREJUd2pDak9FMVJBczREMm1rTHA5cStnLzk5VUZTbEFQWEtiRE1zUWdFSkVuVjNBZ01CQUFHagpaVEJqTUIwR0ExVWREZ1FXQkJTRlhKTmtrZm5TKzQzNmFNNDRqc0hoSkxlMkF6QWZCZ05WSFNNRUdEQVdnQlJxCldqUXE4QXgyT0Nkd1AwVmRWdzJaMHNsclZUQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01CQUdBMVVkRVFRSk1BZUMKQlcxcGJtbHZNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUNBUUJnOXprWHFPdSt5Vm02Uk9GQWVaTmZwN0FSYlZ1TQpFbm52WW5JYWRDQ3dVZktialZweWlzL0ZrVEhBV3NHT3F5endZc1lVdXdkS050clplbjNCYk1HbVA0OUJzWnRUCnFyZXQ5NGF2RXo1aCs4L1RWY3ZRNG5uN2pUak9jSDFuUmFyUStTdk9aTGUzSnY3emM2ZVorS3JoR1FWQlB4TGsKQll5bHlzN3AxM3RkWjZPK3VBZkxFdVZxY0oranIzWGdpY1RUdlA0U2pZdVNPclFWdGNKMDBHZ2xPRzl5ZktuMQpmWlV3RjVvVG1meU9JWXNLS1pGTnEvN2Yra1o0Q0dOVmwraXNPOGIxTkEyTS9VZEVoZjVoMExOaFM2YTNOb2VECjdJaFNZZnhETDZOUzVpM2N0MGR2MTRtd1l4Nys4c0tNeUNvcnJiUGF0ZEZJdlVia09KS3dpR1RyNElVZHF0eW0Kc25WenVId0xORW1RZGFtY3R4Tis4Ykc1RWFyNEdpMUw5SXpDRTdDSXI5WExIMFhkNVo4YUJpSGFTNVB0Ry9iVwpKWTlWSlJQSXlaZi9idkNPbVFhZUZIQ3ltcXBJOU5xWnBUU3dDT3hVdVZpeHJ6ZE9oamlIREI5RVA0MDcxeTFZCmFUbDJBS2VxdHFmOFlmd1RSR04zZkdrbXlEb1UvTWtERFhqbWFVZGEzNmVJVE9NTFJ6REtaWEM2UWpQTDl4YlUKcU5DMWR2Mjl0ZUM2V1pjWTE3L3VIaWhlVVBwdENJNEIvY3lVOUpyVG13VjhCbFRlNCs1UmZGTjZCZUQ4RGl3eQpTNjRIRUZIaW9PUVBjUlJQb1NqNVhXMnNsTFpiMkczV1RwcWVyZDdrdmlBRFhOMXovZ0lIbUZlaDdpdE5jR1hnCjNLWWUwendaOEJSNG1RPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: minio
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: minio
  strategy:
    type: Recreate
  template:
    metadata:
      labels:
        app.kubernetes.io/name: minio
    spec:
      containers:
        - command:
            - /bin/sh
            - -c
            - |
              mkdir -p /storage/tempo && \
              minio server --certs-dir=/root/.minio/certs /storage
          env:
            - name: MINIO_ACCESS_KEY
              value: tempo
            - name: MINIO_SECRET_KEY
              value: supersecret
          image: quay.io/minio/minio:latest
          name: minio
          ports:
            - containerPort: 9000
          volumeMounts:
            - mountPath: /storage
              name: storage
            - name: cert
              mountPath: /root/.minio/certs
      volumes:
        - name: storage
          emptyDir: {}
        - name: cert
          secret:
            secretName: minio-cert
---
apiVersion: v1
kind: Service
metadata:
  name: minio
spec:
  ports:
    - port: 9000
      protocol: TCP
      targetPort: 9000
  selector:
    app.kubernetes.io/name: minio
  type: ClusterIP
---
apiVersion: v1
kind: Secret
metadata:
  name: minio
stringData:
  endpoint: https://minio:9000
  bucket: tempo
  access_key_id: tempo
  access_key_secret: supersecret
type: Opaque
